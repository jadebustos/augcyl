<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Compartiendo una impresora de GNU/Linux con máquinas Windows</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="Utilización y Administración avanzada de sistemas GNU/Linux y aplicaciones Software Libre para estudiantes universitarios"><link rel="up" href="ch02.html" title="Capítulo 2. Configuración de Samba"><link rel="prev" href="ch02s04.html" title="Compartiendo una impresora de Windows con máquinas GNU/Linux"><link rel="next" href="apa.html" title="Apéndice A. GNU Free Documentation License"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Compartiendo una impresora de GNU/Linux con máquinas Windows</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s04.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Configuración de Samba</th><td width="20%" align="right"> <a accesskey="n" href="apa.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2545577"></a>Compartiendo una impresora de GNU/Linux con máquinas Windows</h2></div></div></div><p>Para utilizar los servicios de impresión de Samba, hay que comprobar primeramente que la impresora está instalada y funcionando. Esto se puede verificar desde <span class="emphasis"><em>YaST -&gt; Hardware -&gt; Impresora</em></span>.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>Todo lo explicado en este apartado es válido a partir de la versión 2.2 de Samba (que utiliza el sistema de impresión CUPS, Common UNIX Printing System), puesto que en anteriores versiones, se empleaba otro mecanismo de impresión.</p></div><p>La configuración del servicio de impresión se realiza en el fichero <code class="filename">/etc/samba/smb.conf</code> en la sección [printers]. El nombre de sección debe ser <span class="emphasis"><em>printers</em></span> y no otro cualquiera. El contenido de esta sección será el siguiente:</p><pre class="programlisting">
[printers]
comment = Impresora GNU/Linux
path = /tmp
printable = Yes
public = yes
guest ok = yes
writable = no
create mode = 0755
browseable = no
client driver = yes
printer admin = root, @ntadmins
</pre><p>Asimismo, en la sección [global] de este mismo fichero, se deben añadir las siguientes líneas:</p><pre class="programlisting">
load printers = yes
printing = CUPS
printcap = CUPS
printcap name = CUPS
</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>Por defecto, los drivers de impresión que se instalan sobre Windows suponen modo RAW, lo cuál implica que deben renderizar los trabajos de impresión y dejarlos listos para ser enviados al dispositivo de impresión.</p></div><p>Es posible configurar CUPS para que acepte trabajos de impresión en modo RAW, siendo responsabilidad del cliente Samba (es decir, la máquina Windows) la renderización del trabajo de impresión. Dicha configuración se realiza del siguiente modo:</p><div class="orderedlist"><ol type="1"><li><p>Editar el archivo <code class="filename">/etc/cups/mime.types</code> y descomentar la línea <span class="emphasis"><em>#application-octet...</em></span></p></li><li><p>Editar el archivo <code class="filename">/etc/cups/mime.convs</code> y descomentar la línea <span class="emphasis"><em>#application-octet...</em></span></p></li><li><p>Añadir una impresora RAW utilizando un interface Web. Abrir mozilla y teclear la URL, <a href="http://localhost:631/" target="_top">http://localhost:631</a>. Pinchar sobre el botón <span class="emphasis"><em>Administration</em></span> y luego sobre el botón <span class="emphasis"><em>Add Printer</em></span>. Sobre la pantalla <span class="emphasis"><em>Add new printer</em></span>, teclear <span class="emphasis"><em>raw</em></span> por ejemplo (en realidad, este será el nombre de la cola) sobre el campo Name y localhost sobre el campo Location. Teclear, si se desea, una descripción para la cola.</p><p>En la pantalla Device for raw seleccionar del combo la impresora detectada por YaST. En la pantalla Model/driver for raw seleccionar Raw y en la siguiente pantalla, seleccionar Raw queue. Siguiendo estos pasos se habrá creado una cola de impresión llamada raw en el fichero <code class="filename">/etc/printcap</code>.</p></li><li><p>Lo siguiente será instalar el driver de impresión sobre la máquina Windows. Seleccionar <span class="emphasis"><em>Inicio -&gt; Configuración -&gt; Impresoras -&gt; Agregar Impresora...</em></span> Posteriormente, seleccionar Impresora Local. En la selección del puerto de impresora, seleccionar <span class="emphasis"><em>Crear nuevo puerto -&gt; Local Port</em></span> y después teclear el nombre de la cola de impresión creada en la máquina GNU/Linux en el punto anterior en la forma <span class="emphasis"><em>\\&lt;host&gt;\&lt;cola&gt;</em></span>. Posteriormente se pedirá la selección del modelo de impresora concreto conectado a la máquina GNU/Linux para proceder a la instalación de su correspondiente driver en la máquina Windows.</p></li></ol></div><p>Ejemplo:</p><p>El nombre de la cola de impresión en el caso actual sería <span class="emphasis"><em>\\SuSELinux\raw</em></span>, suponiendo que la máquina GNU/Linux corriendo sobre Samba (y con la impresora conectada) se llama SuSELinux y también suponiendo que la cola se haya denominado raw.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s04.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="apa.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Compartiendo una impresora de Windows con máquinas GNU/Linux </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Apéndice A. GNU Free Documentation License</td></tr></table></div></body></html>
