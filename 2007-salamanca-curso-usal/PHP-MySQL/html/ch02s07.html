<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>El fichero borrar.php</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="Utilización y Administración avanzada de sistemas GNU/Linux y aplicaciones Software Libre para estudiantes universitarios"><link rel="up" href="ch02.html" title="Capítulo 2. Principios de la Web"><link rel="prev" href="ch02s06.html" title="El fichero editar.php"><link rel="next" href="ch02s08.html" title="El fichero buscar.php"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">El fichero borrar.php</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s06.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Principios de la Web</th><td width="20%" align="right"> <a accesskey="n" href="ch02s08.html">Siguiente</a></td></tr></table><hr></div><div class="section" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2545037"></a>El fichero borrar.php</h2></div></div></div><p>A continuación se puede ver la estructura
      del fichero borrar.php:</p><div class="informalexample"><pre class="programlisting">
          &lt;?php 
          //incluimos el fichero config.php para coger los datos de la conexión
          include_once('../config.php');
          //cogemos las variables de las coneción para que se puedan utilizar en el script
          global $server, $database, $user, $passwd;
          //abrimos la conexión
          $conexion = mysql_connect($server,$user,$passwd);
          //elegimos la BBDD
          mysql_select_db ($database, $conexion) OR die ("No se puede conectar");
          //rellenamos la consulta, cambiar alumnos por el nombre de la tabla a listar
          $sql="Select * from alumnos WHERE id=".$_GET['id'].";";
          //re realiza la consulta
          $result=mysql_query($sql,$conexion);
          //print $sql;
          //se coge el registro del alumno
          $row= mysql_fetch_array($result);
          ?&gt;
          &lt;html&gt;
            &lt;head&gt;
              &lt;TITLE&gt;Borrar Asignatura&lt;/TITLE&gt;
              &lt;LINK REL="stylesheet" TYPE="text/css"
              HREF="../estilo.css" /&gt;
            &lt;/head&gt;
            &lt;body&gt;
              &lt;?php
              // se rellena la consulta que borra el alumno se substituye alumno por el nombre de la tabla 
              $sql="DELETE from `asignaturas` WHERE `id` =".$_GET['id']." LIMIT 1 ;";
              //echo $sql;
              // se ejecuta la consulta se borrado
              $result=mysql_query($sql,$conexion);
              // se informa de que se ha eliminado un alumno
              echo "&lt;p&gt;Asignatura eliminada&lt;/p&gt;";
              // se coloca el enlace que permite volver al listado
              echo "&lt;p&gt;&lt;A HREF='index.php'&gt;Volver&lt;/A&gt;&lt;/p&gt;";

              ?&gt;
            &lt;/body&gt;
          &lt;/html&gt;
        </pre></div><p>En la primera parte cogemos los datos del registro que
      queremos borrar, por si en algún momento
      quisiéramos mostrarlo. En la tercera parte
      borramos el registro en sí mismo, informamos al
      usuario del cambio y colocamos el botón
      Volver.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s06.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s08.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">El fichero editar.php </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> El fichero buscar.php</td></tr></table></div></body></html>
