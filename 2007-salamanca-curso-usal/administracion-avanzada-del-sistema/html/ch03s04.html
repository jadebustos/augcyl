<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Herramientas</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="Utilización y Administración avanzada de sistemas GNU/Linux y aplicaciones Software Libre para estudiantes universitarios"><link rel="up" href="ch03.html" title="Capítulo 3. Gestión de Memoria"><link rel="prev" href="ch03s03.html" title="Cache y Buffers"><link rel="next" href="ch04.html" title="Capítulo 4. Sistemas de Ficheros"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Herramientas</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s03.html">Anterior</a> </td><th width="60%" align="center">Capítulo 3. Gestión de Memoria</th><td width="20%" align="right"> <a accesskey="n" href="ch04.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2546202"></a>Herramientas</h2></div></div></div><p>Para ver el uso y análisis de la memoria el
administrador dispone de algunas herramientas.</p><p>El rendimiento de la memoria virtual es muy importante ya que cuando
      vayamos a hacer uso de ella es porque al sistema se le esta
      requiriendo un esfuerzo mayor y no queremos que sea el cuello de
      botella. Por ello las herramientas nos deben dar las
estadísticas de la utilización de la memoria.</p><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2546228"></a>Comando <span><strong class="command">free</strong></span></h3></div></div></div><p>Para ver el estado de la memoria actual tenemos el
        comando <span><strong class="command">free</strong></span>.</p><pre class="screen"><code class="prompt">[pcm@sal]$ </code><strong class="userinput"><code>free -m</code></strong>
<code class="computeroutput">             total       used       free     shared    buffers     cached
Mem:           504        491         12          0         41        147
-/+ buffers/cache:        302        201
Swap:          329         51        277
</code><code class="prompt">[pcm@sal]$ </code>
</pre><p>La primera linea nos está dando como realmente se esta utilizando la
memoria física, y la segunda cuanta memoria hay libre desde
el punto de vista de las aplicaciones. La última linea contiene la
utilización de la memoria swap.</p><p>En detalle, este sistema tiene 504Mb de memoria de los cuales están usados
491Mb y 12Mb libres. De los usados 302Mb por las aplicaciones, 41Mb de
memoria compartida y 147Mb para buffers y caches. Como la memoria para
buffers y cache es adaptable según las necesidades, tendríamos hasta
201Mb libres.</p><p>Muchas de las herramientas de administración nos dan también
estos mismos valores de memoria como por ejemplo
<span><strong class="command">top</strong></span> o <span><strong class="command">htop</strong></span> o desde <span class="application">webmin</span>. Esta información se recoge del fichero
<code class="filename">/proc/meminfo</code> del
sistema de ficheros virtual del núcleo.</p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2546336"></a>Comando <span><strong class="command">vmstat</strong></span></h3></div></div></div><p>Nos da la misma información que <span><strong class="command">free</strong></span>
        más algunos datos estadísticos sobre el uso de la memoria swap
        y entrada/salida con dispositivos de bloques.</p><p>Nos permite por parámetro lanzar la petición varias veces y cada
        cierto periodo de tiempo, así tendremos que poner
        <span><strong class="command">vmstat 2 10</strong></span> para que se ejecute 10 veces
        y muestre los datos cada dos segundos.</p><pre class="screen"><code class="prompt">[pcm@sal]$ </code><strong class="userinput"><code>vmstat 2 10</code></strong>
<code class="computeroutput">procs -----------memory---------- ---swap-- -----io---- --system-- ----cpu----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in    cs us sy id wa
 0  0  66016 113748  19112 231988    0    0     2     3   38    23  1  1 98  0
 0  0  66016 113740  19112 231988    0    0     0     0  196   460  3  0 97  0
 1  0  66016 113844  19112 231988    0    0     0     0  193   427  5  1 94  0
 0  0  66016 113608  19112 232216    0    0   114     0  206   425  7  1 92  0
 0  0  66016 113524  19112 232248    0    0    16    12  206   422  6  1 93  0
 0  0  66016 113472  19112 232248    0    0     0     0  191   433  7  0 93  0
 0  0  66016 113472  19112 232252    0    0     2     0  190   384  5  1 94  0
 0  0  66016 113468  19112 232252    0    0     0     0  195   799  4  1 95  0
 2  0  66016 113468  19112 232252    0    0     0   192  227   727  8  1 91  0
 0  0  66016 113468  19112 232252    0    0     0     0  203   260  0  0 99  0
</code><code class="prompt">[pcm@sal]$ </code>
</pre><p>En cada linea nos va dando el estado de las variables. Serán
tantas lineas como hayamos puesto en el segundo parámetro y van
saliendo cada tantos segundo como hayamos puesto en el primero.</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>procs</em></span>: Nos da los procesos
preparados para correr en una cpu y los procesos durmiendo.</p></li><li><p><span class="emphasis"><em>memory</em></span>: Estado de la memoria. Los
mismo datos que el comando <span><strong class="command">free</strong></span>.</p></li><li><p><span class="emphasis"><em>swap</em></span>: Nos da las páginas
intercambiadas por segundo entre la memoria física y la memoria virtual.</p></li><li><p><span class="emphasis"><em>io</em></span>: Bloques recibidos y enviados
desde un dispositivo por segundo.</p></li><li><p><span class="emphasis"><em>system</em></span>: Interrupciones
lanzadas y cambio de contexto por segundo.</p></li><li><p><span class="emphasis"><em>cpu</em></span>: Porcentajes de tiempos de
cpu dedicados a sistema, a aplicaciones de usuario, sin hacer nada y
tiempo dedicado a IO (Entrada/Salida).</p></li></ul></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2546488"></a>Comando <span><strong class="command">sar</strong></span></h3></div></div></div><p>Este comando permite realizar estadísticas de muchos más
        elementos, como red, cpu, dispositivos de bloques y
        memoria. Esta muy pensado para analizar el rendimiento de
        estos elementos. Para la memoria virtual dispone de muy diversas
        variables que nos pueden ayudar a ver donde puede haber un
        problema.</p><p>No vamos a entrar en detalle con todas las posibilidades de este
        comando.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s03.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Cache y Buffers </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Capítulo 4. Sistemas de Ficheros</td></tr></table></div></body></html>
