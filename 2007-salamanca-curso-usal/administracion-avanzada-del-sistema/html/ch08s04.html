<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Permisos en GNU/Linux</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="Utilización y Administración avanzada de sistemas GNU/Linux y aplicaciones Software Libre para estudiantes universitarios"><link rel="up" href="ch08.html" title="Capítulo 8. Usuarios y permisos en GNU/Linux"><link rel="prev" href="ch08s03.html" title="Gestión de usuarios"><link rel="next" href="ch08s05.html" title="El comando su"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Permisos en GNU/Linux</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s03.html">Anterior</a> </td><th width="60%" align="center">Capítulo 8. Usuarios y permisos en GNU/Linux</th><td width="20%" align="right"> <a accesskey="n" href="ch08s05.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2567015"></a>Permisos en GNU/Linux</h2></div></div></div><p>Para evitar que otros usuarios accedan a nuestros ficheros GNU/Linux al igual que otros sistemas UNIX utiliza permisos y cada usuario puede acceder unica y exclusivamente a aquellos ficheros para los cuales tiene concedido acceso.</p><p>Dado que en los sistemas UNIX todo son ficheros es importante el conocer bien el mecanismo que otorga privilegios para el acceso a los ficheros.</p><p>Los permisos de los ficheros se almacenan utilizando un entero de doce bits y se dividen en ternas:</p><div class="itemizedlist"><ul type="disc"><li><p>La terna más significativa se utiliza para especificar unos permisos especiales que son los <span class="emphasis"><em>SUID</em></span>, <span class="emphasis"><em>SGID</em></span> y el <span class="emphasis"><em>Sticky Bit</em></span>.</p></li><li><p>La siguiente terna se utiliza para especificar los permisos del propietario del fichero.</p></li><li><p>La siguiente terna se utiliza para especificar los permisos del grupo del propietario del fichero.</p></li><li><p>La terna menos significativa se utiliza para especificar los permisos del resto de usuarios, es decir de aquellos usuarios que no estan en el grupo del usuario que posee el fichero.</p></li></ul></div><p>Podemos utilizar <span><strong class="command">ls -l</strong></span> para ver los permisos de un fichero:</p><pre class="screen">
<code class="prompt">[pcm@sal]$ </code><strong class="userinput"><code>ls -l admlinux.xml</code></strong>
<code class="computeroutput">-rw-r--r-- 1 jose users 1,8K 2007-04-08 18:38 admlinux.xml</code>
<code class="prompt">[pcm@sal]$ </code>
</pre><p>La primera columna nos da los permisos. El primer carácter nos indica el tipo de fichero que es:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>-</em></span> indica un fichero normal.</p></li><li><p><span class="emphasis"><em>d</em></span> indica un directorio.</p></li><li><p><span class="emphasis"><em>c</em></span> indica un dispositivo carácter (monitor, impresora).</p></li><li><p><span class="emphasis"><em>s</em></span> indica un socket.</p></li><li><p><span class="emphasis"><em>b</em></span> indica un dispositivo de bloques (discos).</p></li><li><p><span class="emphasis"><em>l</em></span> indica un enlace.</p></li></ul></div><p>Los siguientes tres carácteres indican los permisos que tiene el propietario del fichero.</p><p>Los siguientes tres carácteres indican los permisos que tiene el grupo del propietario del fichero.</p><p>Los siguientes tres carácteres indican los permisos que tienen el resto de usuarios.</p><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2567204"></a>Tipos de permisos</h3></div></div></div><p>Los permisos típicos que nos podemos encontrar son:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>Lectura</em></span> denotado como "<span class="emphasis"><em>r</em></span>".</p><div class="itemizedlist"><ul type="circle"><li><p><span class="emphasis"><em>Fichero:</em></span> Podemos leer el contenido del fichero.</p></li><li><p><span class="emphasis"><em>Directorio:</em></span> Podemos leer el contenido del directorio (mediante <span><strong class="command">ls</strong></span> por ejemplo).</p></li></ul></div></li><li><p><span class="emphasis"><em>Escritura</em></span> denotado como "<span class="emphasis"><em>w</em></span>".</p><div class="itemizedlist"><ul type="circle"><li><p><span class="emphasis"><em>Fichero:</em></span> Podemos modificar el contenido del fichero.</p></li><li><p><span class="emphasis"><em>Directorio:</em></span> Podemos modificar el contenido del directorio. Podemos crear y borrar ficheros dentro del directorio.</p></li></ul></div></li><li><p><span class="emphasis"><em>Ejecución</em></span> denotado como "<span class="emphasis"><em>x</em></span>".</p><div class="itemizedlist"><ul type="circle"><li><p><span class="emphasis"><em>Fichero:</em></span> Podemos ejecutar el fichero.</p></li><li><p><span class="emphasis"><em>Directorio:</em></span> Podemos entrar al directorio (mediante <span><strong class="command">cd</strong></span> por ejemplo).</p></li></ul></div></li></ul></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2567336"></a>Cambio de permisos</h3></div></div></div><p>Sólo el <span class="emphasis"><em>root</em></span> y el propietario del fichero podrán cambiar los permisos de los ficheros.</p><p>Para hacerlo se utiliza el comando <span><strong class="command">chmod</strong></span>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Sugerencia</h3><p><span><strong class="command">chmod</strong></span> sólo actua sobre ficheros. Si queremos que actue de forma recursiva sobre todos los directorios tendremos que utilizar el flag <span class="emphasis"><em>-R</em></span>.</p></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="id2567375"></a>Cambiar permisos de forma intuitiva</h4></div></div></div><p>Para cambiar permisos de forma intuitiva utilizaremos "<span class="emphasis"><em>u</em></span>" para hacer referencia a los permisos del usuario, "<span class="emphasis"><em>g</em></span>" para hacer referencia a los permisos del grupo y "<span class="emphasis"><em>o</em></span>" para hacer referencia a los permisos del resto de usuarios.</p><p>Además utilizaremos "<span class="emphasis"><em>=</em></span>" para establecer unos permisos en concreto, "<span class="emphasis"><em>+</em></span>" para añadir permisos a los ya existentes y "<span class="emphasis"><em>-</em></span>" para quitar permisos:</p><pre class="screen">
<code class="prompt">[jose@sal]$ </code><strong class="userinput"><code>ls -l evms.xml</code></strong>
<code class="computeroutput">-rw-r--r-x 1 jose jose 70992 2007-04-09 00:21 evms.xml</code>
<code class="prompt">[jose@sal]$ </code><strong class="userinput"><code>chmod u=rwx,g+w,o-x evms.xml</code></strong>
<code class="prompt">[jose@sal]$ </code><strong class="userinput"><code>ls -l evms.xml</code></strong>
<code class="computeroutput">-rwxrw-r-- 1 jose jose 70992 2007-04-09 00:21 evms.xml</code>
<code class="prompt">[jose@sal]$ </code>
</pre><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Sugerencia</h3><p>Si utilizamos el flag <span class="emphasis"><em>-v</em></span> nos informa del resultado.</p></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="id2567478"></a>Cambiar permisos en octal</h4></div></div></div><p>El método anterior es muy intuitivo, pero engorroso. Es posible utilizar notación octal para establecer los permisos. Al principio cuesta acostumbrarse, pero al poco tiempo es más intuitivo que el método anterior.</p><p>Se utiliza notación octal porque con tres digitos en binario se pueden representar ocho números diferentes.</p><p>Para poner los permisos en octal se pone a uno el permiso a establecer y a cero el que no se quiere conceder:</p><div class="table"><a name="id2567502"></a><p class="title"><b>Tabla 8.1. Permisos en octal</b></p><div class="table-contents"><table summary="Permisos en octal" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th> </th><th align="center">Propietario</th><th align="center">Grupo</th><th align="center">Resto</th></tr></thead><tbody><tr><td align="center">Permisos</td><td align="center">rwx</td><td align="center">rwx</td><td align="center">rwx</td></tr><tr><td align="center">Binario</td><td align="center">111</td><td align="center">101</td><td align="center">100</td></tr><tr><td align="center">Octal</td><td align="center">7</td><td align="center">5</td><td align="center">4</td></tr></tbody></table></div></div><br class="table-break"><p>Para establecer estos permisos en octal:</p><pre class="screen">
<code class="prompt">[root@sal]# </code><strong class="userinput"><code>chmod 754 admlinux.xml</code></strong>
<code class="prompt">[root@sal]# </code>
</pre></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2567647"></a>Permisos por defecto</h3></div></div></div><p>Cuando creamos un fichero se crea con unos permisos por defecto. Estos permisos están especificados por el <span class="emphasis"><em>umask</em></span>:</p><pre class="screen">
<code class="prompt">[root@sal]# </code><strong class="userinput"><code>umask</code></strong>
<code class="computeroutput">0022</code>
<code class="prompt">[root@sal]# </code><strong class="userinput"><code>umask -S</code></strong>
<code class="computeroutput">u=rwx,g=rx,o=rx</code>
<code class="prompt">[root@sal]# </code>
</pre><p>Para determinar la máscara a utilizar se hace al contrario que con los permisos, es decir se pone a uno los permisos que se quieren quitar:</p><div class="table"><a name="id2567712"></a><p class="title"><b>Tabla 8.2. Máscara en octal</b></p><div class="table-contents"><table summary="Máscara en octal" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th> </th><th align="center">Propietario</th><th align="center">Grupo</th><th align="center">Resto</th></tr></thead><tbody><tr><td align="center">Permisos</td><td align="center">rwx</td><td align="center">rwx</td><td align="center">rwx</td></tr><tr><td align="center">Binario</td><td align="center">000</td><td align="center">010</td><td align="center">110</td></tr><tr><td align="center">Octal</td><td align="center">0</td><td align="center">2</td><td align="center">6</td></tr></tbody></table></div></div><br class="table-break"><p>Para establecer la máscara:</p><pre class="screen">
<code class="prompt">[root@sal]# </code><strong class="userinput"><code>umask 026</code></strong>
<code class="prompt">[root@sal]# </code><strong class="userinput"><code>umask -S</code></strong>
<code class="computeroutput">0026</code>
<code class="prompt">[root@sal]# </code>
</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s03.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch08.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s05.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Gestión de usuarios </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> El comando <span><strong class="command">su</strong></span></td></tr></table></div></body></html>
