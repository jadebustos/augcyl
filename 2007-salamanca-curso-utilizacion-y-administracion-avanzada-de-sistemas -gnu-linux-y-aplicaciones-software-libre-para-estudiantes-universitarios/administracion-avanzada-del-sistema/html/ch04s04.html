<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Conceptos</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="Utilización y Administración avanzada de sistemas GNU/Linux y aplicaciones Software Libre para estudiantes universitarios"><link rel="up" href="ch04.html" title="Capítulo 4. Sistemas de Ficheros"><link rel="prev" href="ch04s03.html" title="Redirecciones"><link rel="next" href="ch04s05.html" title="Sistemas de ficheros"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Conceptos</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s03.html">Anterior</a> </td><th width="60%" align="center">Capítulo 4. Sistemas de Ficheros</th><td width="20%" align="right"> <a accesskey="n" href="ch04s05.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2547566"></a>Conceptos</h2></div></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2547572"></a>i-nodos</h3></div></div></div><p>Los i-nodos son una especie de indice que nos indica donde está localizado un determinado fichero dentro de un sistema de ficheros.</p><p>Aunque se tiende a asociar ficheros con i-nodos, un i-nodo no es un fichero.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>Todo fichero tiene asociado un i-nodo.</p></div><p>Un i-nodo contiene toda la información referente al fichero.</p><p>Un i-nodo también puede contener información sobre enlaces simbólicos, sockets y dispositivos especiales.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>Cuando creamos un sistema de ficheros lo creamos con una cantidad de i-nodos. Si se acaban los i-nodos no podremos escribir en el disco aunque nos quede espacio libre.</p></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2547610"></a>El <span class="emphasis"><em>Virtual File System</em></span> o <span class="emphasis"><em>VFS</em></span></h3></div></div></div><p>Aunque pueda parecer sencillo el hecho de acceder a diferentes tipos de sistemas de ficheros no lo es tanto ya que cada sistema de ficheros tiene sus peculiaridades.</p><p>GNU/Linux utiliza el <span class="emphasis"><em>Virtual File System</em></span> para acceder a los diferentes sistemas de ficheros. El <span class="emphasis"><em>VFS</em></span> es un sistema de ficheros genérico.</p><p>La forma más sencilla de explicarlo es recurrir a la programación orientada a objetos.</p><p>El <span class="emphasis"><em>VFS</em></span> lo podemos considerar como una clase y los diferentes sistemas de ficheros como clases derivadas.</p><p>Todos los sistemas de ficheros comparten una serie de características comunes que son las heredadas del <span class="emphasis"><em>VFS</em></span> y luego las suyas propias.</p></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2547663"></a>El <span class="emphasis"><em>Buffer Cache</em></span></h3></div></div></div><p>El <span class="emphasis"><em>Buffer Cache</em></span> es una memoria intermedia en la que se almacenan temporalmente las operaciones de escritura. Estas operaciones no se hacen de forma inmediata al sistema de ficheros. De este modo se mejora el rendimiento ya que no se penalizan otras acciones del sistema, como la interacción del usuario, por las operaciones de escritura.</p><p>Serán los algoritmos de multitarea los que decidan cuando van escribiendo esa información al disco.</p><p>Para el usuario todo esto es transparente y de cara a el es como si los datos se hubieran escrito al sistema de ficheros.</p><p>Más adelante veremos que es necesario montar un sistema de ficheros para hacerlo accesible. Debido a que los datos no se escriben al momento en el sistema de ficheros si quitamos un dispositivo físico del sistema sin que se hayan escrito los datos los perderemos. Se produce entonces una <span class="emphasis"><em>inconsistencia en el sistema de ficheros</em></span>.</p><p>Para retirar un dispositivo es necesario desmontarlo, en ese momento se da prioridad a las operaciones de escritura pendientes y se escriben al sistema de ficheros. Una vez realizadas todas el sistema de ficheros es desmontado (ya no es accesible) sin perdida de datos.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Sugerencia</h3><p>Es posible utilizar <span><strong class="command">sync</strong></span> para sincronizar un sistema de ficheros con el <span class="emphasis"><em>Buffer Cache</em></span>.</p></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2547728"></a>Sistemas de ficheros <span class="emphasis"><em>transaccionales</em></span> o de <span class="emphasis"><em>journaling</em></span></h3></div></div></div><p>Estos sistemas de ficheros fueron desarrollados para ser tolerantes a fallos. El ejemplo típico es cuando se va la luz mientras estamos trabajando. Con sistemas de ficheros no <span class="emphasis"><em>transaccionales</em></span> al iniciar de nuevo el ordenador el sistema de ficheros se tendrá que chequear. Con los sistemas de ficheros <span class="emphasis"><em>transaccionales</em></span> el inicio es mucho más rápido ya que poseen la información necesaria para hacer la recuperación de forma rápida y precisa.</p><p>Todos los ficheros tienen asociados los siguientes datos:</p><div class="itemizedlist"><ul type="disc"><li><p>El contenido del fichero, los datos.</p></li><li><p>Los datos referentes al fichero, tamaño, fecha, nombre, lugar dentro del sistema de ficheros en el que se encuentra, ...</p></li></ul></div><p>En los sistemas de ficheros tradicionales al realizar una operación de escritura se modifican directamente los metadatos, pero no los datos que se irán modificando poco a poco. Si se va la luz, por ejemplo, cuando el sistema arranque los metadatos no coincidirán con los datos (<span class="emphasis"><em>inconsistencia en el sistema de ficheros</em></span>), teniendo entonces una perdida de datos.</p><p>Los sistemas de ficheros <span class="emphasis"><em>transaccionales</em></span> disponen de dos zonas para solucionar este problema:</p><div class="orderedlist"><ol type="1"><li><p>Una zona de datos, donde se almacenarán tanto el contenido de los ficheros como los metadatos.</p></li><li><p>Una zona de <span class="emphasis"><em>log</em></span> o <span class="emphasis"><em>diario</em></span> donde es núcleo va registrando los cambios realizados y los pendientes.</p></li></ol></div><p>Cuando el sistema actualiza los datos de un fichero, borra de la zona de <span class="emphasis"><em>log</em></span> la información referente a los cambios realizados. De esta forma cuando se monta un sistema de ficheros <span class="emphasis"><em>transaccional</em></span> si hay modificaciones pendientes en la zona de <span class="emphasis"><em>log</em></span> se actualiza el sistema de ficheros sin perdida de datos.</p><p>Sistemas de ficheros <span class="emphasis"><em>transaccionales</em></span>:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>ext3</em></span>.</p></li><li><p><span class="emphasis"><em>ReiserFS</em></span>.</p></li><li><p><span class="emphasis"><em>JFS</em></span> de IBM.</p></li><li><p><span class="emphasis"><em>XFS</em></span> de SGI.</p></li></ul></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="id2547899"></a>Sistemas de ficheros de <span class="emphasis"><em>acceso concurrente</em></span></h3></div></div></div><p>Los sistemas de ficheros de <span class="emphasis"><em>acceso concurrente</em></span> son aquellos sistemas de ficheros que permiten el acceso simultaneo al sistema de ficheros a más de una máquina al mismo tiempo.</p><p>Estos sistemas de ficheros no se acceden por red ethernet como pudiera ser exportado por <span class="emphasis"><em>NFS</em></span> o <span class="emphasis"><em>CIFS</em></span>.</p><p>Estos sistemas de ficheros se suelen utilizar en redes <span class="emphasis"><em>SAN</em></span> y son típicos de clusters en configuraciones activo/activo.</p><p>Cuando tenemos un cluster en configuración activo/activo con varios nodos todos los nodos estarán accediendo simultaneamente al sistema de ficheros. Es necesario coordinar mediante bloqueos los accesos de escritura para evitar corrupciones de datos.</p><p>Los sistemas de ficheros de <span class="emphasis"><em>acceso concurrente</em></span> que soporta <span class="emphasis"><em>GNU/Linux</em></span> son los siguientes:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>GFS</em></span> o <span class="emphasis"><em>G</em></span>lobal <span class="emphasis"><em>F</em></span>ile <span class="emphasis"><em>S</em></span>ystem es el sistema de ficheros de <span class="emphasis"><em>acceso concurrente</em></span> que <span class="emphasis"><em>Red Hat</em></span> compró a <span class="emphasis"><em>Sixtina</em></span> para su inclusión en <span class="emphasis"><em>Red Hat Cluster Suite</em></span>.</p></li><li><p><span class="emphasis"><em>GPFS</em></span> o <span class="emphasis"><em>G</em></span>eneral <span class="emphasis"><em>P</em></span>aralell <span class="emphasis"><em>F</em></span>ile <span class="emphasis"><em>S</em></span>ystem es el sistema de ficheros de <span class="emphasis"><em>acceso concurrente</em></span> de <span class="emphasis"><em>IBM</em></span>.</p></li><li><p><span class="emphasis"><em>OCFS</em></span> o <span class="emphasis"><em>O</em></span>racle <span class="emphasis"><em>C</em></span>luster <span class="emphasis"><em>F</em></span>ile <span class="emphasis"><em>S</em></span>ystem. Es el sistema de ficheros de <span class="emphasis"><em>acceso concurrente</em></span> de Oracle que utiliza en <span class="emphasis"><em>Oracle RAC</em></span>.</p></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s03.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s05.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Redirecciones </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> Sistemas de ficheros</td></tr></table></div></body></html>
