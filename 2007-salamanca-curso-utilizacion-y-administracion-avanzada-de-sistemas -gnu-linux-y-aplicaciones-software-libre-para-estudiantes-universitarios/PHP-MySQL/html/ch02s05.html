<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>El fichero ver.php del directorio</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="Utilización y Administración avanzada de sistemas GNU/Linux y aplicaciones Software Libre para estudiantes universitarios"><link rel="up" href="ch02.html" title="Capítulo 2. Principios de la Web"><link rel="prev" href="ch02s04.html" title="Añadir un nuevo registro."><link rel="next" href="ch02s06.html" title="El fichero editar.php"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">El fichero ver.php del directorio</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s04.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Principios de la Web</th><td width="20%" align="right"> <a accesskey="n" href="ch02s06.html">Siguiente</a></td></tr></table><hr></div><div class="section" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2544817"></a>El fichero ver.php del directorio</h2></div></div></div><p>A continuación verá como
      construir el fichero de visualización de un
      registro:</p><div class="informalexample"><pre class="programlisting">
          &lt;?php
          //incluimos el fichero config.php para coger los datos de la conexión
          include_once('../config.php');
          //cogemos las variables de las coneción para que se puedan utilizar en el script
          global $server, $database, $user, $passwd;
          //abrimos la conexión
          $conexion = mysql_connect($server,$user,$passwd);
          //elegimos la BBDD
          mysql_select_db ($database, $conexion) OR die ("No se puede conectar");
          //rellenamos la consulta, cambiar alumnos por el nombre de la tabla a listar
          $sql="Select * from asignaturas WHERE id=".$_GET['id'].";";
          //re realiza la consulta
          $result=mysql_query($sql,$conexion);
          //print $sql;
          //se coge el registro del alumno
          $row= mysql_fetch_array($result);
          ?&gt;
          &lt;html&gt;
            &lt;head&gt;
              &lt;TITLE&gt;Alumno:&lt;?php echo $row['nombre']; ?&gt;&lt;/TITLE&gt;
              &lt;LINK REL="stylesheet" TYPE="text/css"
              HREF="../estilo.css" /&gt;
            &lt;/head&gt;
            &lt;body&gt;
              &lt;?php
              //en esta parte se muestran los campos del alumno
              //se debe añadir líneas tantas como campos tenga la tabla: echo "&lt;p&gt;Nombre de campo:".$row["nombre_de_campo"]."&lt;/p&gt;";
              //se muestra el código del alumno
              echo "&lt;p&gt;Código:".$row["id"]."&lt;/p&gt;";
              //se muestra el nombre del alumno
              echo "&lt;p&gt;Nombre:".$row["nombre"]."&lt;/p&gt;";
              //se coloca el enlace para que pueda editarse el alumno.
              echo "&lt;p&gt;&lt;A HREF=editar.php?id=".$row['id']."&gt;Editar&lt;/A&gt;&lt;/TD&gt;&lt;/p&gt;";
              // se coloca el enlace para borrar el alumno
              echo "&lt;p&gt;&lt;A HREF=borrar.php?id=".$row['id']."&gt;Borrar&lt;/A&gt;&lt;/TD&gt;&lt;/p&gt;";
              // se coloca el enlace para ir a listado de alumnos
              echo "&lt;p&gt;&lt;A HREF='index.php'&gt;Atras&lt;/A&gt;&lt;/p&gt;";
              ?&gt;
            &lt;/body&gt;
          &lt;/html&gt;
        </pre></div><p>Como se puede observar en la primera parte del fichero
      se coge el parámetro por GET del id del registro y
      se realiza la consulta para coger el registro.</p><p>En la tercera parte simplemente se cogen los campos de
      la variable, se presentan al usuario y se pone el
      botón para volver al index.php</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s04.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s06.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Añadir un nuevo registro. </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> El fichero editar.php</td></tr></table></div></body></html>
