<HTML
><HEAD
><TITLE
>Funciones y scripts de usuario</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Herramientas en GNU/Linux para estudiantes universitarios"
HREF="index.html"><LINK
REL="UP"
TITLE="Sintaxis de Octave"
HREF="c242.html"><LINK
REL="PREVIOUS"
TITLE="Expresiones de control de flujo"
HREF="x735.html"><LINK
REL="NEXT"
TITLE="Funciones de entrada/salida"
HREF="c916.html"><LINK
REL="stylesheet"
HREF="./base.css"
TYPE="text/css"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Herramientas en GNU/Linux para estudiantes universitarios: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x735.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 2. Sintaxis de Octave</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c916.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN853"
></A
>2.5. Funciones y scripts de usuario</H1
><P
>Las funciones y scripts son el mecanismo que ofrece Octave para simplificar la escritura
      de programas o la carga de datos iniciales. Se pueden escribir directamente en la línea de
      comandos de Octave, o en ficheros externos. En ese caso los scripts y las funciones se invocan
      exactamente igual que cualquier otra función predefinida de Octave. La única condición es que
      esos ficheros se encuentren en un directorio dentro del path de Octave
	<DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="images/tip.gif"
HSPACE="5"
ALT="Sugerencia"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Para más información sobre el path de búsqueda de ficheros de Octave consultar
	  <TT
CLASS="USERINPUT"
><B
>help -i LOADPATH</B
></TT
>.</P
></TD
></TR
></TABLE
></DIV
>
	<DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="images/tip.gif"
HSPACE="5"
ALT="Sugerencia"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Los ficheros de scripts y funciones de Octave tienen extensión ".m" por
	  compatibilidad con Matlab.</P
></TD
></TR
></TABLE
></DIV
>
      </P
><P
>Las funciones tienen el siguiente formato:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>	<TT
CLASS="USERINPUT"
><B
><SPAN
CLASS="KEYSYM"
>function</SPAN
> variable_retornada <SPAN
CLASS="KEYSYM"
>=</SPAN
> nombre_funcion <SPAN
CLASS="KEYSYM"
>(</SPAN
>lista_argumentos<SPAN
CLASS="KEYSYM"
>)</SPAN
></B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>   cuerpo_de_función</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
><SPAN
CLASS="KEYSYM"
>endfunction</SPAN
></B
></TT
>
      </PRE
></FONT
></TD
></TR
></TABLE
><P
>El formato tiene los siguientes campos:</P
><P
></P
><UL
><LI
><P
>Empiezan con la palabra clave <SPAN
CLASS="KEYSYM"
>function</SPAN
> que indica el inicio de la
	  declaración de una función de octave.</P
></LI
><LI
><P
>Opcionalmente sigue la declaración de las variables retornadas. Puede ser una única
	    variable (de cualquier tipo permitida en octave) o una lista de variables entre
	    corchetes (<SPAN
CLASS="KEYSYM"
>[]</SPAN
>). Las variables pueden ser de distintos tipos.</P
><P
>Si no existe la lista de variables, tampoco deberá aparecer el signo igual y la
	  función no devolverá ningún valor.</P
></LI
><LI
><P
>El nombre de la función</P
></LI
><LI
><P
>Opcionalmente sigue la lista de argumentos entre paren tesis <SPAN
CLASS="KEYSYM"
>()</SPAN
> y
	  separados por comas. Si no aparece la lista de argumentos la función no tendrá parámetros
	  de entrada.</P
></LI
><LI
><P
>A continuación sigue el código o cuerpo de la función.</P
></LI
><LI
><P
>La función termina con la palabra <SPAN
CLASS="KEYSYM"
>end</SPAN
> o <SPAN
CLASS="KEYSYM"
>endfunction</SPAN
>.</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>	<TT
CLASS="USERINPUT"
><B
>function [x y] = polar2cartesiano(radio, angulo)</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>  x= radio*cos(angulo);</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>  y= radio*sin(angulo);</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>endfuncion</B
></TT
>
      </PRE
></FONT
></TD
></TR
></TABLE
><P
>Para que sea posible la devolución de algún valor, dentro del cuerpo de la función deben
      existir variables de igual nombre que las que aparecen en el campo variable_retornada. No es
      necesario devolver ningún valor explícitamente.</P
><P
>Dentro del cuerpo de la función son accesibles las variables declaradas en la lista de
      argumentos, que tendrán el valor que se les asignó al hacer la llamada (la forma de asignar
      los valores a las variables es por la posición, es decir, el primer valor será asignado a la
      primera variable de la lista de argumentos). Si el último de los argumentos de la función es
      el símbolo <SPAN
CLASS="KEYSYM"
>...</SPAN
>, significa que la función admite un número indeterminado de
      parámetros. Es responsabilidad del programador afrontar el tratamiento de los parámetros no
      declarados explícitamente.</P
><P
>Se puede terminar en cualquier momento la ejecución de la función usando la palabra
	<SPAN
CLASS="KEYSYM"
>return</SPAN
>.</P
><P
>Además de lo anterior, dentro del cuerpo de la función está disponible la variable
	<SPAN
CLASS="KEYSYM"
>nargin</SPAN
>. Su valor es asignado automáticamente al número de parámetros que se
	han pasado en la llamada. Esto puede permitirnos hacer un pequeño chequeo antes de continuar
	con la ejecución del resto del código y evitar fallos por falta de parámetros. Por ejemplo:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>	<TT
CLASS="USERINPUT"
><B
>function [x y] = polar2cartesiano(radio, angulo)</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>  if(nargin!=2)</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>    fprintf(2,"Error, el número de parámetros debe ser 2\n");</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>    return</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>  endif</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>  x= radio*cos(angulo);</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>  y= radio*sin(angulo);</B
></TT
>
	<TT
CLASS="USERINPUT"
><B
>endfuncion</B
></TT
>
      </PRE
></FONT
></TD
></TR
></TABLE
><P
>Excepto para pequeños "programillas de juguete", no es práctico tener que definir todas
      las funciones cada vez. En lugar de ello es posible guardarlos en ficheros de texto y así
      conservarlos para futuros usos.</P
><P
>Octave no requiere que se carguen las funciones antes de usarlas. Simplemente es necesario
      que se guarden en un fichero con extensión ".m", en un directorio de los indicados en la
      variable <SPAN
CLASS="KEYSYM"
>LOADPATH</SPAN
>, y que el nombre del fichero coincida con el de la función.</P
><P
>Los scritps son simples ficheros de texto en el que se introducen las sentencias de la
      misma manera que se introducen en la línea de comandos. Su principal utilidad es definir un
      entorno de trabajo en cualquier momento, definiendo una serie de variables y/o funciones. Cada
      vez que queramos recuperar ese estado deberemos volver a invocar el script por su nombre (in
      la extensión). La única restricción es que la primera sentencia no debe ser la definición de
      una función. En caso contrario Octave pensará que se trata de un fichero de función y los
      resultados no serán los esperados.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x735.html"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c916.html"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Expresiones de control de flujo</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c242.html"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Funciones de entrada/salida</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>